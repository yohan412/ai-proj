diff a/CL-Project/python-microservice/app.py b/CL-Project/python-microservice/app.py	(rejected hunks)
@@ -94,9 +94,13 @@
 @app.route('/analyze', methods=['POST'])
 def analyze_route():
     audio_path = request.json.get('audio_path')
+    job_id = request.json.get('jobId')
+
+    if not job_id:
+        return jsonify({"error": "jobId is required"}), 400
     
     try:
-        data = conda("ocr_env", "core.compute_ssim", audio_path.split('\\')[-1].split('.')[0])    
+        data = conda("ocr_env", "core.compute_ssim", jobId)    
     except Exception as e:
         return jsonify({"error": "Video file not found"}), 404
     
